STYLE_CSS = r""":root{
  /* 科研风 · 冷静蓝紫调 */
  --bg:#0b1020; --bg-2:#0f1630; --surface:#0f1b3a; --line:#2a3b6a;
  --text:#eaf1ff; --muted:#a9b9d8;
  --accent:#6ee7ff;   /* 冰蓝 */
  --accent-2:#b9a6ff; /* 暗紫 */
  --ok:#21d3a6; --warn:#ff6b9a;
  --radius:16px;
}
*{box-sizing:border-box} html,body{height:100%}
body{
  margin:0; color:var(--text);
  font:14px/1.6 Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:
    radial-gradient(1200px 680px at 10% -10%, color-mix(in oklab, var(--accent) 24%, transparent), transparent 60%),
    radial-gradient(1200px 680px at 120% 10%, color-mix(in oklab, var(--accent-2) 22%, transparent), transparent 60%),
    linear-gradient(to bottom, var(--bg), var(--bg-2) 1200px);
}

/* 顶部栏 */
.topbar{
  position:sticky; top:0; z-index:30;
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 16px; border-bottom:1px solid var(--line);
  background:rgba(9,14,28,.72); backdrop-filter:blur(10px) saturate(140%);
}
.brand{display:flex;align-items:center;gap:10px;font-weight:800}
.brand::after{
  content:""; width:7px; height:7px; border-radius:50%;
  background:conic-gradient(from 0deg, var(--accent), var(--accent-2), var(--accent));
  box-shadow:0 0 8px var(--accent)
}
.nav a{margin-left:10px;padding:6px 10px;border-radius:10px;border:1px solid transparent}
.nav a:hover{border-color:var(--line)}

/* 布局与侧栏 */
.layout{display:grid;grid-template-columns:300px 1fr;min-height:calc(100vh - 56px)}
.sidebar{
  position:sticky; top:56px; height:calc(100vh - 56px);
  padding:14px 10px; background:linear-gradient(180deg, rgba(20,26,50,.65), rgba(15,22,44,.80));
  border-right:1px solid var(--line)
}
.main{padding:20px}
.side-menu{display:grid;gap:8px}
.side-menu a{
  display:flex; align-items:center; gap:12px; padding:12px;
  border-radius:var(--radius); border:1px solid rgba(255,255,255,.06);
  text-decoration:none; color:var(--text); background:rgba(16,24,48,.55)
}
.side-menu a .icon{width:22px;text-align:center}
.side-menu a:hover{border-color:#4963a9;background:rgba(20,30,60,.7)}
.side-menu a.active{
  border-color: color-mix(in oklab, var(--accent) 35%, transparent);
  background:
    linear-gradient(90deg, color-mix(in oklab, var(--accent) 16%, transparent), color-mix(in oklab, var(--accent-2) 8%, transparent)),
    rgba(22,30,60,.85);
  box-shadow: inset 0 0 0 1px color-mix(in oklab, var(--accent) 22%, transparent);
}

/* 概览卡片与通用面板 */
.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px;margin:14px 0}
.card,.panel{
  background:linear-gradient(180deg, rgba(255,255,255,.04), transparent 60%), var(--surface);
  border:1px solid rgba(255,255,255,.08); border-radius:var(--radius);
  padding:16px; box-shadow:0 22px 60px rgba(0,0,0,.52)
}
.card-title{font-size:12px;color:var(--muted)} .card-value{font-size:28px;margin-top:6px}

/* 表单与按钮（科研配色） */
.form{display:flex;flex-wrap:wrap;gap:10px}
.form input,.form select,.form textarea,.form button{
  height:38px; padding:6px 12px; border-radius:var(--radius);
  border:1px solid var(--line); background:#0d1530; color:var(--text); outline:0
}
.form textarea{height:auto;min-height:84px;width:100%;resize:vertical}
.form input:focus,.form select:focus,.form textarea:focus{
  border-color:#6b8ad8; box-shadow:0 0 0 3px rgba(107,138,216,.28)
}
.btn{
  display:inline-flex; align-items:center; gap:8px; height:36px; padding:0 14px;
  border-radius:var(--radius); border:1px solid rgba(255,255,255,.08);
  background:linear-gradient(180deg, rgba(255,255,255,.03), transparent 60%), rgba(16,24,48,.55);
  color:var(--text); text-decoration:none; cursor:pointer;
  box-shadow:inset 0 1px 0 rgba(255,255,255,.05), 0 8px 18px rgba(0,0,0,.25);
  transition: transform .12s ease, box-shadow .18s ease, border-color .18s ease;
}
.btn:hover{ transform: translateY(-1px); box-shadow:0 12px 26px rgba(0,0,0,.28) }
.btn:active{ transform: translateY(0); box-shadow:0 6px 16px rgba(0,0,0,.24) }
.btn-edit{
  background: linear-gradient(135deg, color-mix(in oklab, #648cff 55%, transparent), color-mix(in oklab, var(--accent-2) 48%, transparent)), #12203a !important;
  border-color: color-mix(in oklab, var(--accent-2) 55%, transparent) !important;
}
.btn-delete{
  background: linear-gradient(135deg, rgba(239,71,111,.58), rgba(244,114,182,.50)), #2a1416 !important;
  border-color: rgba(239,71,111,.60) !important;
}

/* 启用/停用开关 */
.toggle{display:inline-flex;align-items:center;gap:8px;height:30px;padding:0 10px;border-radius:999px;border:1px solid rgba(255,255,255,.08);font-weight:600;background:linear-gradient(180deg, rgba(255,255,255,.05), transparent 60%), rgba(16,24,48,.6);color:#dbeafe}
.toggle .dot{width:10px;height:10px;border-radius:50%}
.toggle.on{border-color:#1b3e3a;background:#0d1e20;color:#cff7ee}.toggle.on .dot{background:var(--ok)}
.toggle.off{border-color:#3c1e2e;background:#231220;color:#ffd0df}.toggle.off .dot{background:#ff6b9a}

/* 表格 */
.table-wrap{overflow:auto;border:1px solid rgba(255,255,255,.08);border-radius:var(--radius);box-shadow:0 22px 60px rgba(0,0,0,.52)}
table{border-collapse:separate;border-spacing:0;width:100%}
th{
  position:sticky; top:0; background:rgba(14,22,46,.9);backdrop-filter:blur(4px);
  font-weight:600; font-size:12px; color:#c7d7ff; border-bottom:1px solid var(--line); text-align:left; padding:12px
}
td{padding:12px;border-bottom:1px solid var(--line)}
tbody tr:hover{background: linear-gradient(90deg, color-mix(in oklab, var(--accent) 10%, transparent), transparent 60%) !important}
tbody tr:nth-child(even){background:rgba(255,255,255,.02)}

/* ===== 删除确认小弹窗 ===== */
.modal-backdrop{position:fixed; inset:0; z-index:50; display:none; background:radial-gradient(1200px 600px at 15% -10%, color-mix(in oklab, var(--accent) 18%, transparent), transparent 60%), radial-gradient(1200px 600px at 120% 10%, color-mix(in oklab, var(--accent-2) 16%, transparent), transparent 60%), rgba(6,10,20,.58); backdrop-filter:blur(10px) saturate(140%)}
.modal-backdrop.open{display:flex; align-items:center; justify-content:center; padding:20px}
.modal{
  width:min(420px,100%); border-radius:var(--radius); padding:18px;
  background:linear-gradient(180deg, rgba(255,255,255,.06), transparent 60%), #0e1530;
  border:1px solid rgba(255,255,255,.14); box-shadow:0 30px 70px rgba(0,0,0,.55);
  opacity:0; transform:translateY(10px) scale(.985); transition:opacity .18s ease, transform .18s ease;
  position:relative;
}
.modal-backdrop.open .modal{opacity:1; transform:none}
.modal::before{
  content:"⚠️"; position:absolute; left:18px; top:16px; font-size:18px; opacity:.95;
  filter: drop-shadow(0 4px 14px color-mix(in oklab, var(--accent) 45%, transparent));
}
.modal h3{margin:0 0 10px; padding-left:28px; font-weight:800}
.modal p{margin:0 0 14px; color:#b3c6ec}
.modal-actions{display:flex; gap:10px; justify-content:flex-end}
.btn-ghost{background:rgba(16,24,48,.55)}

/* ===== 大弹窗（科研风·豪华 v3） ===== */
.big-backdrop{
  position:fixed; inset:0; z-index:55; display:none;
  background:
    radial-gradient(1800px 760px at 10% -10%, color-mix(in oklab, var(--accent) 18%, transparent), transparent 60%),
    radial-gradient(1600px 640px at 120% 0%, color-mix(in oklab, var(--accent-2) 16%, transparent), transparent 60%),
    linear-gradient(180deg, rgba(6,10,22,.72), rgba(6,10,22,.62));
  backdrop-filter: blur(14px) saturate(140%);
  animation: rbBackdropPan 28s linear infinite; background-size: 120% 100%, 120% 100%, 100% 100%;
}
@keyframes rbBackdropPan{
  0%{ background-position: 0% 0%, 100% 0%, 0 0; }
  50%{ background-position: 8% -2%, 92% 2%, 0 0; }
  100%{ background-position: 0% 0%, 100% 0%, 0 0; }
}
.big-backdrop.open{display:flex; align-items:center; justify-content:center; padding:28px}
.big-backdrop.closing{pointer-events:none}

.big-modal{
  width:min(1080px, 96vw); max-height:90vh; overflow:auto; position:relative; border-radius:var(--radius);
  background:
    linear-gradient(180deg, rgba(255,255,255,.08), transparent 58%),
    radial-gradient(1200px 220px at 50% -8%, rgba(255,255,255,.10), transparent 60%),
    linear-gradient(180deg, #101a36, #0e172e);
  border: 1px solid rgba(255,255,255,.16);
  box-shadow: 0 70px 160px rgba(0,0,0,.72), inset 0 1px 0 rgba(255,255,255,.06);
  transform-origin: 50% 46%;
  opacity:0; transform:translateY(14px) scale(.985);
  transition:opacity .18s ease, transform .18s ease;
  animation: bigIn .22s cubic-bezier(.2,.8,.2,1) both;
}
.big-backdrop.open .big-modal{opacity:1; transform:none}
.big-backdrop.closing .big-modal{animation: bigOut .18s ease both}
@keyframes bigIn{0%{opacity:0;transform: translateY(18px) scale(.975)}60%{opacity:1;transform: translateY(2px) scale(1.002)}100%{opacity:1;transform: translateY(0) scale(1)}}
@keyframes bigOut{0%{opacity:1;transform: translateY(0) scale(1)}100%{opacity:0;transform: translateY(8px) scale(.985)}}

/* 渐变发光边缘（蓝紫） */
.big-modal::before{
  content:""; position:absolute; inset:-2px; border-radius:inherit; z-index:2; pointer-events:none;
  background: conic-gradient(from 0deg, color-mix(in oklab, var(--accent) 60%, transparent), color-mix(in oklab, var(--accent-2) 55%, transparent), color-mix(in oklab, var(--accent) 60%, transparent));
  filter: blur(22px); opacity:.24; animation: ringSpin 12s linear infinite;
}
@keyframes ringSpin{ to{ transform: rotate(360deg); } }

/* 顶栏与标题 */
.big-header{
  position:sticky; top:0; display:flex; align-items:center; justify-content:space-between;
  padding:14px 18px;
  background:
    linear-gradient(180deg, rgba(18,28,52,.92), rgba(12,20,40,.86)),
    linear-gradient(180deg, rgba(255,255,255,.06), transparent);
  border-bottom: 1px solid rgba(150,190,255,.10);
  backdrop-filter: blur(8px);
}
.big-title{
  font-weight:900; letter-spacing:.2px; display:flex; align-items:center; gap:10px;
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  -webkit-background-clip:text; background-clip:text; color:transparent;
}
.big-close{
  padding:8px 12px; border-radius:12px; border:1px solid rgba(255,255,255,.14);
  background:linear-gradient(180deg, rgba(255,255,255,.06), transparent 70%);
  color:var(--text); cursor:pointer;
  transition:transform .16s ease, box-shadow .2s ease, border-color .2s ease;
  box-shadow:0 0 0 1px rgba(255,255,255,.06), 0 10px 30px rgba(0,0,0,.45)
}
.big-close:hover{transform:translateY(-1px); border-color:#4a5a86; box-shadow:0 16px 36px rgba(0,0,0,.45)}
.big-body{padding:18px}

/* 内部面板与表单（12栅格） */
.big-body .panel{
  background: linear-gradient(180deg, rgba(255,255,255,.05), transparent 55%), rgba(18,26,52,.55) !important;
  border: 1px solid rgba(255,255,255,.10) !important;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.05), 0 24px 60px rgba(0,0,0,.40) !important;
  border-radius: 18px !important;
}
.big-body h2{display:flex;align-items:center;gap:10px;font-weight:900;letter-spacing:.2px;margin:6px 0 14px 2px}
.big-body h2::before{
  content:"+"; font-size:22px; background: linear-gradient(90deg, var(--accent-2), var(--accent));
  -webkit-background-clip:text; background-clip:text; color:transparent;
  filter: drop-shadow(0 6px 14px color-mix(in oklab, var(--accent-2) 45%, transparent));
}
.big-body .form{display:grid;grid-template-columns:repeat(12,1fr);gap:14px}
.big-body .form input,.big-body .form select,.big-body .form textarea{
  grid-column:span 4; height:44px;
  background: linear-gradient(180deg, rgba(255,255,255,.02), transparent 60%), #0f1736;
  border:1px solid #304480; border-radius:14px; box-shadow: inset 0 1px 0 rgba(255,255,255,.06); color:var(--text)
}
.big-body .form textarea{grid-column:1 / -1; min-height:110px}
.big-body .form button{grid-column:10 / -1; justify-self:end; height:44px}
.big-body .form input:focus,.big-body .form select:focus,.big-body .form textarea:focus{
  border-color:#6b8ad8 !important; box-shadow:0 0 0 4px rgba(107,138,216,.28), inset 0 1px 0 rgba(255,255,255,.08) !important; outline:none
}
.big-body .form select{
  appearance:none;-webkit-appearance:none;-moz-appearance:none;padding-right:38px;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23bcd0e6' viewBox='0 0 16 16'%3E%3Cpath d='M4 6l4 4 4-4'/%3E%3C/svg%3E");
  background-repeat:no-repeat;background-position:right 12px center
}
.big-body .btn{box-shadow:inset 0 1px 0 rgba(255,255,255,.08), 0 10px 26px rgba(0,0,0,.32)}
.big-body .btn-edit{
  background: linear-gradient(135deg, color-mix(in oklab, #648cff 55%, transparent), color-mix(in oklab, var(--accent-2) 50%, transparent)), #12203a !important;
  border-color: color-mix(in oklab, var(--accent-2) 55%, transparent) !important;
}
.big-body .btn-delete{
  background: linear-gradient(135deg, rgba(239,71,111,.58), rgba(244,114,182,.52)), #2a1416 !important;
  border-color: rgba(239,71,111,.60) !important;
}

/* 弹窗滚动条更细腻 */
.big-modal *::-webkit-scrollbar{ height:10px; width:10px }
.big-modal *::-webkit-scrollbar-thumb{
  background: linear-gradient(180deg, #2f4574, #243963);
  border: 2px solid #0e1730; border-radius: 10px;
}
.big-modal *::-webkit-scrollbar-track{ background: #111a33 }
.big-body ::placeholder{ color:#a6b8e0; opacity:.95 }
"""
