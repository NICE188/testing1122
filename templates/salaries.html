{% extends "base.html" %}
{% block content %}
<div class="panel">
  <h3 style="margin-top:0;">{{ _('SalaryRecords') }}</h3>
  <form class="form-grid" action="{{ url_for('salaries_add', lang=curLang()) }}" method="post">
    <select class="input" name="worker_id" required>
      <option value="">{{ _('Worker') }}</option>
      {% for w in workers %}
        <option value="{{ w.id }}">{{ w.name }}</option>
      {% endfor %}
    </select>
    <input class="input" name="salary_amount" type="number" step="0.01" placeholder="{{ _('SalaryAmount') }}" required>
    <input class="input" name="pay_date" type="date" placeholder="{{ _('PayDate') }}" required>
    <input class="input" name="note" placeholder="{{ _('Note') }}">
    <button class="btn" type="submit">{{ _('Submit') }}</button>
  </form>
  <div class="muted" style="margin:-8px 0 12px 0;">{{ _('TipsISODate') }}</div>

  <div class="table-wrap">
    <table class="table">
      <thead>
        <tr>
          <th>ID</th><th>{{ _('Worker') }}</th><th>{{ _('SalaryAmount') }}</th>
          <th>{{ _('PayDate') }}</th><th>{{ _('Note') }}</th><th>{{ _('CreatedAt') }}</th>
        </tr>
      </thead>
      <tbody>
      {% for r in rows %}
        <tr>
          <td>{{ r.id }}</td>
          <td>{{ r.worker_name }}</td>
          <td>{{ r.salary_amount }}</td>
          <td>{{ r.pay_date }}</td>
          <td>{{ r.note }}</td>
          <td>{{ r.created_at }}</td>
        </tr>
      {% else %}
        <tr><td colspan="6" class="muted">{{ _('NoData') }}</td></tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
