{% extends "base.html" %}
{% block content %}
  <div class="topbar">
    <h2>ðŸ‘· {{ _('Workers/Platforms') }}</h2>
    <div class="exports"><a href="{{ url_for('export_workers') }}">{{ _('Export Workers') }}</a></div>
  </div>

  <div class="panel">
    <form action="{{ url_for('workers_add') }}" method="post">
      <div class="grid-form">
        <div>
          <label>{{ _('Name') }} *</label>
          <input name="name" required placeholder="{{ _('Name') }}">
        </div>
        <div>
          <label>{{ _('Company') }}</label>
          <input name="company" placeholder="{{ _('Company') }}">
        </div>
        <div>
          <label>{{ _('Commission') }}</label>
          <input name="commission" type="number" step="0.01" placeholder="0.00">
        </div>
        <div>
          <label>{{ _('Expenses') }}</label>
          <input name="expenses" type="number" step="0.01" placeholder="0.00">
        </div>
        <div style="align-self:end;">
          <button class="btn" type="submit" style="width:100%;">âž• {{ _('Add New') }}</button>
        </div>
      </div>
    </form>

    <div style="overflow:auto;">
      <table>
        <thead>
          <tr>
            <th>{{ _('ID') }}</th>
            <th>{{ _('Name') }}</th>
            <th>{{ _('Company') }}</th>
            <th>{{ _('Commission') }}</th>
            <th>{{ _('Expenses') }}</th>
            <th>{{ _('Created At') }}</th>
          </tr>
        </thead>
        <tbody>
          {% for r in rows %}
          <tr>
            <td>{{ r.id }}</td>
            <td>{{ r.name }}</td>
            <td>{{ r.company or '-' }}</td>
            <td>{{ '%.2f'|format(r.commission or 0) }}</td>
            <td>{{ '%.2f'|format(r.expenses or 0) }}</td>
            <td>{{ r.created_at }}</td>
          </tr>
          {% else %}
          <tr><td colspan="6" class="muted" style="text-align:center;">{{ _('No Data') }}</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}
