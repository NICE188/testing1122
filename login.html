<!doctype html>
<html lang="{{ html_lang }}">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ t.app_name }} · {{ t.login }}</title>
  <style>
    :root{
      --bg:#0c1220;--panel:#111827;--text:#e7ebf3;--muted:#93a4c0;--brand:#facc15;--line:rgba(148,163,184,.18)
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;font:14px/1.55 Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"PingFang SC","Microsoft YaHei",sans-serif;
      color:var(--text);
      background:
        url("https://i.imgur.com/RUhZHD9.jpeg") center/cover fixed no-repeat,
        linear-gradient(180deg,#0c1220,#0b1220);
    }
    body::before{
      content:"";position:fixed;inset:0;background:
        radial-gradient(1100px 600px at 70% -200px, rgba(54,89,214,.22), transparent 60%),
        radial-gradient(900px 500px at -200px 70%, rgba(250,204,21,.08), transparent 60%),
        rgba(10,14,25,.52);
      pointer-events:none;
    }
    .wrap{min-height:100%;display:grid;place-items:center;padding:32px;position:relative;z-index:1}
    .card{
      width:min(420px,92vw);background:rgba(16,22,39,.75);border:1px solid var(--line);
      border-radius:16px;box-shadow:0 6px 24px rgba(0,0,0,.25);backdrop-filter: blur(10px) saturate(1.05);
      padding:22px 20px; position:relative;
    }
    .langs{
      position:absolute; right:14px; top:12px; font-size:12px; color:var(--muted);
      display:flex; align-items:center; gap:6px;
    }
    .langs a{
      color:#d1d5db; text-decoration:none; padding:4px 8px; border-radius:999px;
      border:1px solid transparent;
    }
    .langs a:hover{border-color:rgba(148,163,184,.28); background:rgba(148,163,184,.08)}
    .langs a.on{border-color:rgba(250,204,21,.55); background:rgba(250,204,21,.08); color:#fff}
    h1{margin:2px 0 14px;font-size:20px;font-weight:800;letter-spacing:.2px}
    .muted{color:var(--muted);font-size:13px;margin-bottom:18px}
    label{display:block;font-size:13px;margin:10px 0 6px;color:#cbd5e1}
    input{
      width:100%;padding:10px 12px;border-radius:12px;border:1px solid rgba(148,163,184,.28);
      background:rgba(14,20,35,.9);color:var(--text);outline:none;
      transition:box-shadow .15s ease, border-color .15s ease;
    }
    input:focus{border-color:rgba(54,89,214,.55);box-shadow:0 0 0 3px rgba(54,89,214,.18)}
    .btn{
      width:100%;margin-top:14px;padding:11px 12px;border-radius:12px;border:1px solid rgba(148,163,184,.28);
      background:linear-gradient(180deg,#1e2638,#1a2233);color:#e7ebf3;cursor:pointer;
      box-shadow:inset 0 2px 10px rgba(0,0,0,.2);
    }
    .error{
      margin-top:10px;border-radius:12px;padding:10px 12px;font-size:13px;
      color:#ef4444;background:rgba(239,68,68,.14);border:1px solid rgba(239,68,68,.35)
    }
  </style>
</head>
<body>
<div class="wrap">
  <form class="card" method="post" action="{{ url_for('login_post') }}">
    <div class="langs">
      <a class="{% if lang=='zh' %}on{% endif %}"
         href="{{ url_for('set_lang') }}?lang=zh&next={{ request.path }}">中文</a>
      <span>|</span>
      <a class="{% if lang=='en' %}on{% endif %}"
         href="{{ url_for('set_lang') }}?lang=en&next={{ request.path }}">EN</a>
    </div>

    <h1>{{ t.login }}</h1>
    <div class="muted">
      {% if lang=='zh' %}请输入管理员账号登录系统{% else %}Please sign in with admin account{% endif %}
    </div>

    <label>{{ t.username }}</label>
    <input type="text" name="username" placeholder="admin" required>

    <label>{{ t.password }}</label>
    <input type="password" name="password" placeholder="••••••••" required>

    <input type="hidden" name="next" value="{{ next_url or '/' }}">
    <button class="btn" type="submit">{{ t.login }}</button>

    {% if error %}
      <div class="error">{{ error }}</div>
    {% endif %}
  </form>
</div>
</body>
</html>
