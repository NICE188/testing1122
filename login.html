<!-- templates/login.html -->
<!doctype html>
<html lang="{{ 'zh' if lang=='zh' else 'en' }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{{ t['login'] }} · {{ t['app_name'] }}</title>
  <style>
    :root{
      --bg:#0b1220; --panel:#111827; --line:#334155;
      --text:#e7ebf3; --muted:#9fb1c8; --brand:#facc15;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);
         font:15px/1.6 Inter,system-ui,-apple-system,Segoe UI,Roboto,"PingFang SC","Microsoft YaHei",sans-serif;}
    .wrap{min-height:100vh;display:grid;place-items:center;
          background:
            radial-gradient(1000px 520px at 70% -120px, rgba(54,89,214,.22), transparent 60%),
            radial-gradient(820px 480px at -120px 70%, rgba(250,204,21,.08), transparent 60%);}
    .card{width:360px;background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:18px;
          box-shadow:0 10px 30px rgba(0,0,0,.25)}
    h1{margin:0 0 14px;font-size:20px;font-weight:800;letter-spacing:.2px}
    label{display:block;margin:10px 0 6px;color:var(--muted);font-size:13px}
    input{width:100%;padding:10px;border-radius:10px;border:1px solid var(--line);background:#0f172a;color:#e7ebf3}
    .row{display:flex;gap:10px}
    .btn{width:100%;margin-top:12px;padding:10px;border-radius:10px;border:1px solid var(--line);
         background:linear-gradient(180deg,#1e293b,#192233);color:#fff;cursor:pointer}
    .lang{margin-top:10px;color:var(--muted);font-size:13px}
    a{color:#93c5fd;text-decoration:none}
    .err{color:#f87171;margin-top:10px}
  </style>
</head>
<body>
<div class="wrap">
  <form class="card" method="post" action="{{ url_for('login') }}">
    <h1>{{ t['login'] }}</h1>

    <label>{{ t['username'] }}</label>
    <input name="username" autofocus>

    <label>{{ t['password'] }}</label>
    <input type="password" name="password">

    <input type="hidden" name="next" value="{{ next_url or '/' }}">

    <button class="btn" type="submit">{{ t['login'] }}</button>

    {% if error %}<div class="err">{{ error }}</div>{% endif %}

    <div class="lang">
      {{ t['language'] }}：
      {% if lang=='zh' %}
        <b>{{ t['zh'] }}</b> · <a href="{{ url_for('login', lang='en', next=next_url or '/') }}">{{ t['en'] }}</a>
      {% else %}
        <a href="{{ url_for('login', lang='zh', next=next_url or '/') }}">{{ t['zh'] }}</a> · <b>{{ t['en'] }}</b>
      {% endif %}
    </div>
  </form>
</div>
</body>
</html>
